<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>

	<body>
		<form>
			<button>按钮</button>
		</form>
		<script>
			var XHR = new XMLHttpRequest()
			XHR.open('POST', "/wx/getWxConfig", false)
			XHR.setRequestHeader("Content-Type", "application/json")
//			XHR.setRequestHeader("Content-Type", "application/x-www-form-urlencoded;"); //缺少这句，后台无法获取参数  
			XHR.onreadystatechange = function() {
				console.log(XHR.responseText);
				if(XHR.readyState == 4 && XHR.status == 200) {
					console.log(XHR.responseText);
				}
			};
//			XHR.send({
//				initUrl: window.location.href
//			})
			XHR.send(JSON.stringify({
				initUrl: window.location.href,
				jsApiList: ["onMenuShareTimeline", "onMenuShareAppMessage"]
			}))
		</script>
	</body>

</html>